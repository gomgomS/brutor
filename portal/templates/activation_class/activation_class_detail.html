<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favico -->
    <link rel="shortcut icon" href="../../static/assets/img/favicon.png" type="image/x-icon">
    <link rel="icon" href="../../static/assets/img/favicon.png" type="image/x-icon">
    <title>Brutor|Activation Class Detail</title>
    <!-- vendor css -->
    <link href="../../static/lib/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="../../static/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="../../static/lib/select2/css/select2.min.css" rel="stylesheet">
    <link href="../../static/lib/flatpicker/flatpickr.min.css" rel="stylesheet">
    <!-- DashForge CSS -->
    <link rel="stylesheet" href="../../static/assets/css/dashforge.css">
    <link rel="stylesheet" href="../../static/css/custom.css">

    <style>
        body {
            background-color: #06121a;
            color: #f8f9fa;
        }
        .container {
            margin-top: 30px;
        }
        .card {
            background-color: #1f2a38;
            border: none;
            margin-bottom: 20px;
        }
        .card-header {
            background-color: #273a4a;
            border-bottom: 1px solid #3a4e5c;
            color: #f8f9fa;
        }
        .card-body {
            background-color: #1f2a38;
            color: #f8f9fa;
        }
        .data-title {
            font-weight: bold;
        }
        .split-container {
            display: flex;
            justify-content: space-between;
        }
        .split-item {
            width: 48%;
        }
        .btn-primary {
            background-color: #2e86de;
            border: none;
        }
        .btn-secondary {
            background-color: #5f5f5f;
            border: none;
        }
        .form-section {
            background-color: #1f2a38;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        form {
            color: #1f2a38;
        }
      </style>
    <!-- some additional css here -->
</head>

{% autoescape false %}
<body>
    <div class="loader">
        <img src="../../static/assets/img/Pulse-1s-200px.gif" alt="loader">
    </div>
    <aside class="aside aside-fixed">
        <div class="aside-header">
            <a href="#" class="aside-logo img-logo"><img src="../../static/assets/img/brutor-logo-white.png" class="w-75"></a>
            <a href="" class="aside-menu-link">
                <i data-feather="menu"></i>
                <i data-feather="x"></i>
            </a>
        </div>
        <div class="aside-body">
            <ul class="nav nav-aside">
                {% for menu_item in menu_list_html %}
                    {%if menu_item.value == 'MANAGER_CLASS' %}
                        <li class="nav-item nav-item-active ">
                            <a href="{{menu_item.url}}" class="nav-link nav-link-active"><i data-feather="{{ menu_item.icon_class }}"></i>
                                <span>{{menu_item.menu_name.title()}}</span></a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a href="{{menu_item.url}}" class="nav-link"><i data-feather="{{ menu_item.icon_class }}"></i>
                                <span>{{menu_item.menu_name.title()}}</span></a>
                        </li>
                    {% endif %}
                {% endfor %}

            </ul>
        </div>
    </aside>

    <div class="content pd-0">
         <!-- Navbar Top -->
		<div class="content-header">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb align-items-center">
                <li class="breadcrumb-item active" aria-current="page">Manager Class</li>
                <li class="breadcrumb-item active" aria-current="page">Activation Class List</li>
                <li class="breadcrumb-item active" aria-current="page">Activation Class Detail</li>
                <li class="breadcrumb-item active" aria-current="page">{{ activation_class_rec.active_class_name }}</li>
                </ol>
            </nav>
            <div class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">			
                    <div class="text-success font-weight-bold text-balance mr-3" id="balance"></div>
                </div>
                <div class="dropdown">
                <span class="font-weight-bold text-dark">{{ username | safe }}</span>
                <a class="dropdown-toggle ml-2" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-user-circle fa-lg"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                    {% if user_rec.role == 'STUDENT' %}
                    <div class="dropdown-item text-info">
                    <i class="fas fa-user-graduate"></i> You're in Student Portal
                    </div>
                    {% elif user_rec.role == 'TUTOR' %}
                    <div class="dropdown-item text-info">
                    <i class="fas fa-chalkboard"></i> You're in Tutor Portal
                    </div>
                    {% elif user_rec.role == 'ADMIN' %}
                    <div class="dropdown-item text-info">
                    <i class="fas fa-chalkboard"></i> WELCOME BOSS
                    </div>				
                    {% endif %}
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="/profile"><i class="fas fa-user"></i> Profile</a>
                    {% if user_rec.register_teacher == 'FALSE' %}
                    <a class="dropdown-item" href="/profile"><i class="fas fa-chalkboard-teacher"></i> Become a Tutor</a>
                    {% endif %}
                    {% if user_rec.role == 'STUDENT' and user_rec.register_teacher == 'TRUE' %}
                    <a class="dropdown-item" href="/profile/change_portal/tutor"><i class="fas fa-chalkboard"></i> Tutor Portal</a>
                    {% endif %}
                    {% if user_rec.role == 'TUTOR' %}
                    <a class="dropdown-item" href="/profile/change_portal/student"><i class="fas fa-user-graduate"></i> Student Portal</a>
                    {% endif %}
                    <a class="dropdown-item" href="/auth/logout"><i class="fas fa-sign-out-alt"></i> Sign out</a>
                </div>
                </div>
            </div>
        </div>
        <div class="container">
            <!-- Flash messages section -->
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            <div class="flashes">
                {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endfor %}
            </div>
            {% endif %}
            {% endwith %}
            <!-- <h1 class="text-center mb-5">Class Data Display</h1> -->
    
            <!-- Activation Class Details -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-rocket"></i> Activation Class Details
                    <!-- Button to Open the Modal Edit Activation Class -->
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editActivationClassModal">
                        Edit Activation Class
                    </button>
                </div>
                <div class="card-body">
                    <!-- <p><span class="data-title">Activation Class ID:</span> <span class="data-value">{{ activation_class_rec.activation_class_id }}</span></p>
                    <p><span class="data-title">User ID:</span> <span class="data-value">{{ activation_class_rec.fk_user_id }}</span></p> -->
                    <p>
                    <span class="data-title">Class Name:</span> 
                    <span class="data-value">
                        <span class="badge badge-secondary p-1" style="font-size: 0.9rem;">{{ activation_class_rec.active_class_name }}</span>
                    </span>
                    </p>
                    <p>
                    <span class="data-title">Activation Timestamp:</span> 
                    <span class="data-value">
                        <span class="badge badge-secondary p-2" style="font-size: 0.9rem;">{{ activation_class_rec.str_activate_timestamp }}</span>
                    </span>
                    </p>
                    <p>
                    <span class="data-title">Student Limit:</span> 
                    <span class="data-value">
                        <span class="badge badge-secondary p-2" style="font-size: 0.9rem;">{{ activation_class_rec.student_limit }}</span>
                    </span>
                    </p>
                    <p>
                    <span class="data-title">Price:</span> 
                    <span class="data-value">
                        <span class="badge badge-secondary p-2" style="font-size: 0.9rem;">{{ activation_class_rec.price_class }}</span>
                    </span>
                    </p>
                    <p>
                    <span class="data-title">Status:</span> 
                    <span class="data-value">
                        {% if activation_class_rec.status_activation == 'DEVELOPMENT' %}
                        <span class="badge badge-primary p-2" style="font-size: 0.9rem;">Development (class under maintenance)</span>
                        {% elif activation_class_rec.status_activation == 'OPEN_REGISTRATION' %}
                        <span class="badge badge-success p-2" style="font-size: 0.9rem;">Open Registration (class is open for registration)</span>
                        {% elif activation_class_rec.status_activation == 'RUNNING' %}
                        <span class="badge badge-warning p-2" style="font-size: 0.9rem;">Running (class already started)</span>
                        {% elif activation_class_rec.status_activation == 'FINISHED' %}
                        <span class="badge badge-secondary p-2" style="font-size: 0.9rem;">Finished (class completed)</span>
                        {% endif %}
                    </span>
                    </p>
                    <p>
                    <span class="data-title">Only for Test:</span> 
                    <span class="data-value">
                        {% if activation_class_rec.can_just_test_to_pass == 'TRUE' %}
                        <span class="badge badge-info p-2" style="font-size: 0.9rem;">YES</span>
                        {% else %}
                        <span class="badge badge-danger p-2" style="font-size: 0.9rem;">NO</span>
                        {% endif %}
                    </span>
                    </p>                                              
                </div>
            </div>

            <!-- The Modal Edit Activation Class-->
            <div class="modal fade" id="editActivationClassModal" tabindex="-1" role="dialog" aria-labelledby="editActivationClassModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editActivationClassModalLabel">Edit Activation Class</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form action="/activation_class/update" method="POST">
                            <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                            <input type="hidden" name="activation_class_id" value="{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="redirect" value="/activation_class/detail/{{ activation_class_rec.activation_class_id}}">
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="className">Class Name</label>
                                    <input type="text" class="form-control" id="className" name="active_class_name" value="{{ activation_class_rec.active_class_name }}">
                                </div>
                                <div class="form-group">
                                    <label for="activationTimestamp">Activation Timestamp</label>
                                    <div class="input-group">
                                        <div id="datepickerActive" class="d-flex align-items-center">
                                            <input id="datepickerActive" name="activate_timestamp" class="form-control" type="text" placeholder="Select Date.."  value="{{ activation_class_rec.str_activate_timestamp }}"  data-input autocomplete="off" required>
                                            <i data-toggle id="calendar2" 
                                                class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>                                                                                        
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="studentLimit">Student Limit</label>
                                    <input type="number" class="form-control" id="studentLimit" name="student_limit" value="{{ activation_class_rec.student_limit }}">
                                </div>
                                <div class="form-group">
                                    <label for="priceClass">Price</label>
                                    <input type="text" class="form-control" id="priceClass" name="price_class" value="{{ activation_class_rec.price_class }}">
                                </div>
                                <div class="form-group">
                                    <label for="statusActivation">Status</label>
                                    <select class="form-control" id="statusActivation" name="status_activation">
                                        <option value="" selected disabled></option>
                                        <option value="DEVELOPMENT" {% if activation_class_rec.status_activation == 'DEVELOPMENT' %}selected{% endif %}>Development (class under maintenance)</option>
                                        <option value="OPEN_REGISTRATION" {% if activation_class_rec.status_activation == 'OPEN_REGISTRATION' %}selected{% endif %}>Open Registration (class is open for registration)</option>
                                        <option value="RUNNING" {% if activation_class_rec.status_activation == 'RUNNING' %}selected{% endif %}>Running (class already started)</option>
                                        <option value="FINISHED" {% if activation_class_rec.status_activation == 'FINISHED' %}selected{% endif %}>Finished (class already finished)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="can_just_test_to_pass">Only Test?</label>
                                    <select id="can_just_test_to_pass" class="form-control" name="can_just_test_to_pass" required>
                                        <option value="" type="hidden" selected disabled></option>
                                        <option value="TRUE" {% if activation_class_rec.can_just_test_to_pass == 'TRUE' %}selected{% endif %}>YES</option>
                                        <option value="FALSE" {% if activation_class_rec.can_just_test_to_pass == 'FALSE' %}selected{% endif %}>NO</option>
                                    </select>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
    
            
            <div class="container mt-5">
                <div class="row justify-content-center">
                    <div class="">
                        <div class="card card-custom shadow-sm">
                            <div class="card-header card-header-custom text-center">
                                <h4>Class Information</h4>
                            </div>
                            <div class="card-body">
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs" id="classTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link active" id="class-details-tab" data-toggle="tab" href="#class-details"
                                            role="tab" aria-controls="class-details" aria-selected="true">
                                            <i class="fas fa-chalkboard-teacher"></i> Class Details
                                        </a>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link" id="pass-req-tab" data-toggle="tab" href="#pass-req"
                                            role="tab" aria-controls="pass-req" aria-selected="false">
                                            <i class="fas fa-check-circle"></i> Pass Requirement
                                        </a>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link" id="meeting-report-tab" data-toggle="tab" href="#meeting-report"
                                            role="tab" aria-controls="meeting-report" aria-selected="false">
                                            <i class="fas fa-calendar-alt"></i> Meeting Report
                                        </a>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link" id="test-report-tab" data-toggle="tab" href="#test-report"
                                            role="tab" aria-controls="test-report" aria-selected="false">
                                            <i class="fas fa-file-alt"></i> Test Report
                                        </a>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link" id="final-report-tab" data-toggle="tab" href="#final-report"
                                            role="tab" aria-controls="final-report" aria-selected="false">
                                            <i class="fas fa-clipboard-check"></i> Final Report
                                        </a>
                                    </li>
                                </ul>
            
                                <!-- Tab panes -->
                                <div class="tab-content mt-4">
                                    <!-- Class Details -->
                                    <div class="tab-pane fade show active" id="class-details" role="tabpanel"
                                        aria-labelledby="class-details-tab">
                                        <h5><i class="fas fa-info-circle"></i> Class Details:</h5>
                                        <div class="ml-3 mt-3">
                                            <p><strong>Class Name:</strong> {{ class_rec.name_class }}</p>
                                            <p><strong>Description:</strong> {{ class_rec.desc_class_html }}</p>
                                            <p><strong>Status:</strong> {{ class_rec.status_class }}</p>
                                            <p><strong>Price:</strong> {{ class_rec.price_class }}</p>
                                        </div>
                                    </div>
            
                                    <!-- Pass Requirement -->
                                    <div class="tab-pane fade" id="pass-req" role="tabpanel"
                                        aria-labelledby="pass-req-tab">
                                        <h5><i class="fas fa-check-circle"></i> Pass Requirement:</h5>
                                        <div class="ml-3 mt-3">
                                            {{ class_rec.pass_requirement_html }}
                                        </div>
                                    </div>
            
                                    <!-- Meeting Report -->
                                    <div class="tab-pane fade" id="meeting-report" role="tabpanel"
                                        aria-labelledby="meeting-report-tab">
                                        <h5><i class="fas fa-calendar-alt"></i> Meeting Report:</h5>
                                        <div class="table-responsive mt-3">
                                            <table class="table table-dark table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Status</th>
                                                        {% for meeting in meeting_report_rec.header[2:-1] %}
                                                            <th>{{ meeting }}</th>
                                                        {% endfor %}
                                                        <th>Attendance %</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for row in meeting_report_rec.data %}
                                                        <tr>
                                                            <td>{{ row[0] }}</td>
                                                            <td>
                                                                {% if row[1] == 'REGISTERED' %}
                                                                    <span class="badge badge-info">{{ row[1] }}</span>
                                                                {% elif row[1] == 'FAILED' %}
                                                                    <span class="badge badge-danger">{{ row[1] }}</span>
                                                                {% elif row[1] == 'PASSED' %}
                                                                    <span class="badge badge-success">{{ row[1] }}</span>
                                                                {% endif %}
                                                            </td>
                                                            {% for status in row[2:-1] %}
                                                                <td>
                                                                    {% if status == 'PRESENT' %}
                                                                        <span class="badge badge-success">{{ status }}</span>
                                                                    {% elif status == 'ABSENT' %}
                                                                        <span class="badge badge-danger">{{ status }}</span>
                                                                    {% else %}
                                                                        <span>{{ status }}</span>
                                                                    {% endif %}
                                                                </td>
                                                            {% endfor %}
                                                            <td>{{ row[-1] }}</td>
                                                        </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
            
                                    <!-- Test Report -->
                                    <div class="tab-pane fade" id="test-report" role="tabpanel"
                                        aria-labelledby="test-report-tab">
                                        <h5><i class="fas fa-file-alt"></i> Test Report:</h5>
                                        <div class="table-responsive mt-3">
                                            <table class="table table-dark table-bordered">
                                                <thead>
                                                    <tr>
                                                        {% for header in test_report_rec.header %}
                                                            <th>{{ header }}</th>
                                                        {% endfor %}
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for row in test_report_rec.data %}
                                                        <tr>
                                                            {% for cell in row %}
                                                                <td>
                                                                    {% if loop.index == 2 %}
                                                                        <span class="badge 
                                                                            {% if cell == 'REGISTERED' %}
                                                                                badge-info
                                                                            {% elif cell == 'PASS' %}
                                                                                badge-success
                                                                            {% else %}
                                                                                badge-danger
                                                                            {% endif %}
                                                                        ">{{ cell }}</span>
                                                                    {% elif cell.endswith(' (PASS)') %}
                                                                        {{ cell | replace(' (PASS)', '') }}
                                                                        <span class="badge badge-success">PASSED</span>
                                                                    {% elif cell.endswith(' (FAILED)') %}
                                                                        {{ cell | replace(' (FAILED)', '') }}
                                                                        <span class="badge badge-danger">FAILED</span>
                                                                    {% else %}
                                                                        {{ cell }}
                                                                    {% endif %}
                                                                </td>
                                                            {% endfor %}
                                                        </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
            
                                    <!-- Final Report -->
                                    <div class="tab-pane fade" id="final-report" role="tabpanel"
                                        aria-labelledby="final-report-tab">
                                        <h5><i class="fas fa-clipboard-check"></i> Final Report:</h5>
                                        <div class="table-responsive mt-3">
                                            <table class="table table-dark table-bordered">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Email</th>
                                                        <th>Phone Number</th>
                                                        <th>Enrollment Status</th>
                                                        <th>Certified ID</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for student in list_student_registered_students %}
                                                        <tr>
                                                            <td>{{ student.detail_student.name }}</td>
                                                            <td>{{ student.detail_student.email }}</td>
                                                            <td>{{ student.detail_student.phone }}</td>
                                                            <td>
                                                                <span class="badge 
                                                                    {% if student.enrollment_status == 'PASS' %}
                                                                        badge-success
                                                                    {% elif student.enrollment_status == 'FAILED' %}
                                                                        badge-danger
                                                                    {% else %}
                                                                        badge-info
                                                                    {% endif %}">
                                                                    {{ student.enrollment_status }}
                                                                </span>
                                                            </td>
                                                            <td><span class="badge badge-primary">{{ student.certified_id }}</span></td>
                                                            <td>
                                                                <a href="/student_pass/{{ student.enrollment_id }}/{{ activation_class_rec.activation_class_id }}" class="btn btn-success btn-sm" title="Pass">
                                                                    <i class="fas fa-check"></i>
                                                                </a>
                                                                <a href="/student_failed/{{ student.enrollment_id }}/{{ activation_class_rec.activation_class_id }}" class="btn btn-danger btn-sm" title="Fail">
                                                                    <i class="fas fa-times"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div> <!-- End of Tab Content -->
                            </div> <!-- End of Card Body -->
                        </div> <!-- End of Card -->
                    </div> <!-- End of Col -->
                </div> <!-- End of Row -->
            </div> <!-- End of Container -->
            
    
            <!-- Split Container for Meetings and Tests -->
            <div class="split-container">
                <!-- Meetings Details -->
                <div class="split-item">
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-handshake"></i> Meeting Details
                            <button class="btn btn-primary float-right" data-toggle="modal" data-target="#addMeetingModal">Add Meeting</button>
                        </div>
                        <div class="card-body">
                            {% for meeting in meeting_list %}
                            <div id="{{ meeting.name_meeting }}">
                                <p><span class="data-title">Meeting Name:</span> <span class="data-value">{{ meeting.name_meeting }}</span></p>
                                <p><span class="data-title">Meeting ID:</span> <span class="data-value">{{ meeting.meeting_id }}</span></p>
                                <p><span class="data-title">Description:</span> <span class="data-value">{{ meeting.desc_meeting }}</span></p>
                                <p><span class="data-title">Start Time:</span> <span class="data-value">{{ meeting.str_start_datetime }}</span></p>
                                <p><span class="data-title">End Time:</span> <span class="data-value">{{ meeting.str_end_datetime }}</span></p>
                                <p><span class="data-title">Source:</span> 
                                    <span class="data-value">
                                        <a href="{{ meeting.source }}" target="_blank" class="badge badge-primary">{{ meeting.source }}</a>
                                    </span>
                                </p>
                                <p><span class="data-title">Meeting Status:</span> 
                                    <span class="data-value">
                                        <span class="badge 
                                            {% if meeting.status_meeting == 'DEVELOPMENT' %}badge-warning{% elif meeting.status_meeting == 'SHARE' %}badge-info{% elif meeting.status_meeting == 'DONE' %}badge-success{% endif %}">
                                            {{ meeting.status_meeting }}
                                        </span>
                                    </span>
                                </p>                                
                                <button class="btn btn-secondary" data-toggle="modal" data-target="#editMeetingModal{{ loop.index }}">Edit</button>
                                <a href="/register_meeting/detail/{{ meeting.meeting_id }}" target="_blank" class="badge badge-primary">see detail</a>
                                <hr>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
    
                <!-- Tests Details -->
                <div class="split-item">
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-file-alt"></i> Test Details
                            <button class="btn btn-primary float-right" data-toggle="modal" data-target="#addTestModal">Add Test</button>
                        </div>
                        <div class="card-body">
                            {% for test in test_list %}
                            <div>
                                <p><span class="data-title">Test Name:</span> <span class="data-value">{{ test.name_test }}</span></p>
                                <p><span class="data-title">Test ID:</span> <span class="data-value">{{ test.test_id }}</span></p>
                                <p><span class="data-title">Description:</span> <span class="data-value">{{ test.desc_test }}</span></p>
                                <p><span class="data-title">Score to Pass:</span> <span class="data-value">{{ test.score_to_pass }}</span></p>
                                <p><span class="data-title">Start Time:</span> <span class="data-value">{{ test.str_start_datetime }}</span></p>
                                <p><span class="data-title">End Time:</span> <span class="data-value">{{ test.str_end_datetime }}</span></p>
                                <p><span class="data-title">Source:</span> 
                                    <span class="data-value">
                                        <a href="{{ test.source }}" target="_blank" class="badge badge-primary">{{ test.source }}</a>
                                    </span>
                                </p>
                                <p><span class="data-title">Test Status:</span> 
                                    <span class="data-value">
                                        <span class="badge 
                                            {% if test.status_test == 'DEVELOPMENT' %}badge-warning{% elif test.status_test == 'SHARE' %}badge-info{% elif test.status_test == 'DONE' %}badge-success{% endif %}">
                                            {{ test.status_test }}
                                        </span>
                                    </span>
                                </p> 
                                <button class="btn btn-secondary" data-toggle="modal" data-target="#editTestModal{{ loop.index }}">Edit</button>
                                <a href="/register_test/detail/{{ test.test_id }}" target="_blank" class="badge badge-primary">see detail</a>
                                <hr>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
    
            {% for meeting in meeting_list %}
            <!-- Edit Meeting Modal -->
            <div class="modal fade" id="editMeetingModal{{ loop.index }}" tabindex="-1" aria-labelledby="editMeetingModalLabel{{ loop.index }}" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editMeetingModalLabel{{ loop.index }}">Edit Meeting</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form method="POST" action="/register_meeting/update">
                            <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                            <input type="hidden" name="redirect" value="/activation_class/detail/{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="activation_class_id" value="{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="meeting_id" value="{{ meeting.meeting_id }}">
            
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="" class="">Meeting Time</label>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3">
                                        <div id="datepicker_meeting_edit{{ loop.index }}" class="d-flex align-items-center">
                                            <input id="datepicker_meeting_edit{{ loop.index }}" name="start_datetime" class="form-control" type="text" placeholder="Select Date.." data-input autocomplete="off" value="{{ meeting.str_start_datetime }}" required>
                                            <i data-toggle id="calendar2" class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>
                                        </div>
                                    </div>
                                    <span class="mg-t-10 col-sm-1 text-center">---</span>
                                    <div class="col-sm-3">
                                        <div id="datepicker2_meeting_edit{{ loop.index }}" class="d-flex align-items-center">
                                            <input name="end_datetime" data-input id="datepicker2_meeting_edit{{ loop.index }}" type="text" class="form-control" placeholder="Select Date.." autocomplete="off" value="{{ meeting.str_end_datetime }}" required>
                                            <i data-toggle id="calendar2" class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="edit_meeting_name{{ loop.index }}">Meeting Name</label>
                                    <input type="text" class="form-control" id="edit_meeting_name{{ loop.index }}" name="name_meeting" value="{{ meeting.name_meeting }}" required>
                                </div>
                                <div class="form-group">
                                    <label for="edit_meeting_desc{{ loop.index }}">Description</label>
                                    <textarea class="form-control" id="edit_meeting_desc{{ loop.index }}" name="desc_meeting" required>{{ meeting.desc_meeting }}</textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="edit_meeting_source{{ loop.index }}">Source</label>
                                    <input type="url" class="form-control" id="edit_meeting_source{{ loop.index }}" name="source" value="{{ meeting.source }}" required>
                                </div>

                                <div class="form-group">
                                    <label for="edit_meeting_status{{ loop.index }}">Meeting Status</label>
                                    <select id="status_meeting" class="form-control" name="status_meeting" required>
                                        <option value="" type="hidden" selected disabled></option>                                
                                        <option value="DEVELOPMENT" {% if meeting.status_meeting == 'DEVELOPMENT' %}selected{% endif %}>Development (meeting under maintenance or Development)</option>
                                        <option value="SHARE" {% if meeting.status_meeting == 'SHARE' %}selected{% endif %}>Share (meeting is ready to share)</option>
                                        <option value="DONE" {% if meeting.status_meeting == 'DONE' %}selected{% endif %}>Done (meeting is done)</option>                                 
                                    </select>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            {% endfor %}

    
            {% for test in test_list %}            
            <!-- Edit Test Modal -->
            <div class="modal fade" id="editTestModal{{ loop.index }}" tabindex="-1" aria-labelledby="editTestModalLabel{{ loop.index }}" aria-hidden="true">
                <div class="modal-dialog modal-lg"> <!-- Changed to modal-lg for larger size -->
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editTestModalLabel{{ loop.index }}">Edit Test</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form method="POST" action="/register_test/update">
                            <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                            <input type="hidden" name="redirect" value="/activation_class/detail/{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="activation_class_id" value="{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="test_id" value="{{ test.test_id }}">

                            <fieldset class="form-fieldset pd-x-50 field-shadow">                                
                                <div class="form-group row">
                                    <label for="dujul" class="col-sm-2 col-form-label text-right">Periode</label>
                                    <div class="col-sm-3">
                                        <div id="datepicker_test_edit{{ loop.index }}" class="d-flex align-items-center">
                                            <input id="datepicker_test_edit{{ loop.index }}" name="start_datetime" class="form-control" type="text" placeholder="Select Date.." data-input autocomplete="off" value="{{ test.str_start_datetime }}" required>
                                            <i data-toggle id="calendar2" class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>
                                        </div>
                                    </div>
                                    <span class="mg-t-10 col-sm-1 text-center">---</span>
                                    <div class="col-sm-3">
                                        <div id="datepicker2_test_edit{{ loop.index }}" class="d-flex align-items-center">
                                            <input name="end_datetime" data-input id="datepicker2_test_edit{{ loop.index }}" type="text" class="form-control" placeholder="Select Date.." autocomplete="off" value="{{ test.str_end_datetime }}" required>
                                            <i data-toggle id="calendar2" class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-group row">
                                    <label for="edit_test_name{{ loop.index }}" class="col-sm-2 col-form-label text-right">Name Test</label>
                                    <div class="col-sm-10">
                                        <input id="edit_test_name{{ loop.index }}" name="name_test" class="form-control" type="text" value="{{ test.name_test }}" required>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="edit_test_desc{{ loop.index }}" class="col-sm-2 col-form-label text-right">Description Test</label>
                                    <div class="col-sm-10">
                                        <textarea id="edit_test_desc{{ loop.index }}" name="desc_test" class="form-control" cols="5" rows="5" required>{{ test.desc_test }}</textarea>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="edit_test_score{{ loop.index }}" class="col-sm-2 col-form-label text-right">Score to Pass</label>
                                    <div class="col-sm-10">
                                        <input id="edit_test_score{{ loop.index }}" name="score_to_pass" class="form-control" type="number" value="{{ test.score_to_pass }}" required>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="edit_test_type{{ loop.index }}" class="col-sm-2 col-form-label text-right">Type Test</label>
                                    <div class="col-sm-10">
                                        <input id="edit_test_type{{ loop.index }}" name="type_test" class="form-control" type="text" value="{{ test.type_test }}" required>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="edit_test_source{{ loop.index }}" class="col-sm-2 col-form-label text-right">Source</label>
                                    <div class="col-sm-10">
                                        <input id="edit_test_source{{ loop.index }}" name="source" class="form-control" type="text" value="{{ test.source }}" required>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="edit_test_status{{ loop.index }}" class="col-sm-2 col-form-label text-right">Status Test</label>
                                    <div class="col-sm-10">
                                        <select id="edit_test_status{{ loop.index }}" class="form-control" name="status_test" required>
                                            <option value="" selected disabled>Select Status</option>
                                            <option value="DEVELOPMENT" {% if test.status_test == 'DEVELOPMENT' %}selected{% endif %}>Development (test under maintenance or Development)</option>
                                            <option value="SHARE" {% if test.status_test == 'SHARE' %}selected{% endif %}>Share (test is ready to share)</option>
                                            <option value="DONE" {% if test.status_test == 'DONE' %}selected{% endif %}>Done (test is done)</option>
                                        </select>
                                    </div>
                                </div>
                            </fieldset>

                            <div class="mg-y-30 text-center">
                                <button type="submit" class="btn btn-primary pd-x-100 shadow-custom">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            {% endfor %}            

            <!-- Add meeting Modal -->
            <div class="modal fade" id="addMeetingModal" tabindex="-1" aria-labelledby="addMeetingModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg"> <!-- Changed to modal-lg for larger modal -->
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="addMeetingModalLabel">Add Register Meeting</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form action="/register_meeting/add" method="POST" enctype="multipart/form-data">
                            <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                            <input type="hidden" name="redirect" value="/activation_class/detail/{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="activation_class_id" value="{{ activation_class_rec.activation_class_id }}">
                            
                            <fieldset class="form-fieldset p-4 mb-4 field-shadow"> <!-- Added padding and margin -->
                                                               
                                <div class="form-group row">
                                    <label for="dujul" class="col-sm-2 col-form-label text-right">Meeting Time</label>
                                    <div class="col-sm-10">
                                        <div class="row">
                                            <div class="col-sm-5">
                                                <div id="datepicker_meeting_add" class="d-flex align-items-center">
                                                    <input id="datepicker_meeting_add" name="start_datetime" class="form-control" type="text" placeholder="Select Date.." data-input autocomplete="off" required>
                                                    <i data-toggle id="calendar2" class="fas fa-calendar-week text-primary ml-2"></i>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 text-center">
                                                <span class="align-middle">---</span>
                                            </div>
                                            <div class="col-sm-5">
                                                <div id="datepicker2_meeting_add" class="d-flex align-items-center">
                                                    <input name="end_datetime" data-input id="datepicker2_meeting_add" type="text" class="form-control" placeholder="Select Date.." autocomplete="off" required>
                                                    <i data-toggle id="calendar2" class="fas fa-calendar-week text-primary ml-2"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-group row">
                                    <label for="name_meeting" class="col-sm-2 col-form-label text-right">Name Meeting</label>
                                    <div class="col-sm-10">
                                        <input name="name_meeting" type="text" id="name_meeting" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="desc_meeting" class="col-sm-2 col-form-label text-right">Description Meeting</label>
                                    <div class="col-sm-10">
                                        <textarea name="desc_meeting" class="form-control" id="desc_meeting" cols="5" rows="5"></textarea>
                                    </div>
                                </div>                                      
                                <div class="form-group row">
                                    <label for="source" class="col-sm-2 col-form-label text-right">Source</label>
                                    <div class="col-sm-10">
                                        <input name="source" type="text" id="source" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="status_meeting" class="col-sm-2 col-form-label text-right">Status Meeting</label>
                                    <div class="col-sm-10">
                                        <select id="status_meeting" class="form-control" name="status_meeting" required>
                                            <option value="" type="hidden" selected disabled></option>                                
                                            <option value="DEVELOPMENT">Development (meeting under maintenence or Development)</option>
                                            <option value="SHARE">Share (meeting is ready to share)</option>
                                            <option value="DONE">Done (meeting is done)</option>                                 
                                        </select>
                                    </div>
                                </div>
                            </fieldset>
            
                            <div class="text-center mb-4">
                                <button class="btn btn-primary px-5 shadow-custom">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>                
            <!-- Add Test Modal -->
            <div class="modal fade" id="addTestModal" tabindex="-1" aria-labelledby="addTestModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg"> <!-- Changed to modal-lg for larger size -->
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="addTestModalLabel">Add Test</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form action="/register_test/add" method="POST" enctype="multipart/form-data">
                            <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                            <input type="hidden" name="redirect" value="/activation_class/detail/{{ activation_class_rec.activation_class_id }}">
                            <input type="hidden" name="activation_class_id" value="{{ activation_class_rec.activation_class_id }}">

                            <fieldset class="form-fieldset pd-x-50 field-shadow">
                                <div class="form-group row">
                                    <label for="dujul" class="col-sm-2 col-form-label text-right">Periode</label>
                                    <div class="col-sm-3">
                                        <div id="datepicker_test_add" class="d-flex align-items-center">
                                            <input id="datepicker_test_add" name="start_datetime" class="form-control" type="text" placeholder="Select Date.." data-input autocomplete="off" required>
                                            <i data-toggle id="calendar2" class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>
                                        </div>
                                    </div>
                                    <span class="mg-t-10 col-sm-1 text-center">---</span>
                                    <div class="col-sm-3">
                                        <div id="datepicker2_test_add" class="d-flex align-items-center">
                                            <input name="end_datetime" data-input id="datepicker2_test_add" type="text" class="form-control" placeholder="Select Date.." autocomplete="off" required>
                                            <i data-toggle id="calendar2" class="fas fa-calendar-week Fz(28px) text-primary Cur(p) mg-l-5"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="name_test" class="col-sm-2 col-form-label text-right">Name Test</label>
                                    <div class="col-sm-10">
                                        <input name="name_test" type="text" id="name_test" class="form-control">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="desc_test" class="col-sm-2 col-form-label text-right">Description Test</label>
                                    <div class="col-sm-10">
                                        <textarea name="desc_test" class="form-control" id="desc_test" cols="5" rows="5"></textarea>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="score_to_pass" class="col-sm-2 col-form-label text-right">Score to Pass</label>
                                    <div class="col-sm-10">
                                        <input name="score_to_pass" type="number" id="score_to_pass" class="form-control">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="type_test" class="col-sm-2 col-form-label text-right">Type Test</label>
                                    <div class="col-sm-10">
                                        <input name="type_test" type="text" id="type_test" class="form-control">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="source" class="col-sm-2 col-form-label text-right">Source</label>
                                    <div class="col-sm-10">
                                        <input name="source" type="text" id="source" class="form-control">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="status_test" class="col-sm-2 col-form-label text-right">Status Test</label>
                                    <div class="col-sm-10">
                                        <select id="status_test" class="form-control" name="status_test" required>
                                            <option value="" type="hidden" selected disabled></option>                                
                                            <option value="DEVELOPMENT">Development (test under maintenance or Development)</option>
                                            <option value="SHARE" >Share (test is ready to share)</option>
                                            <option value="DONE">Done (test is done)</option>                                 
                                        </select>
                                    </div>
                                </div>
                            </fieldset>

                            <div class="mg-y-30 text-center">
                                <button class="btn btn-primary pd-x-100 shadow-custom">SIMPAN</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
    
        </div>
    </div>

    <script src="../../static/lib/jquery/jquery.min.js"></script>
    <script src="../../static/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../../static/lib/feather-icons/feather.min.js"></script>
    <script src="../../static/lib/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="../../static/lib/flatpicker/flatpickr.js"></script>
    <script src="../../static/assets/js/dashforge.js"></script>
    <script src="../../static/assets/js/dashforge.aside.js"></script>
    <script src="../../static/lib/select2/js/select2.min.js"></script>
    <script src="../../static/js/pytavia-js/custom/ckeditor/ckeditor.js"></script>
    <script>
        window.addEventListener('load', () => {
            const loader = document.querySelector('.loader');
            loader.classList.add('hidden');
        });

        function toggleForm(formId) {
            var form = document.getElementById(formId);
            if (form.style.display === 'none' || form.style.display === '') {
            form.style.display = 'block';
            } else {
            form.style.display = 'none';
            }
        }

        // date picker for edit active class        
        $(document).ready(function() {            
            ['datepickerActive'].forEach(el => {
                $(`#${el}`).flatpickr({
                    enableTime: true,
                    dateFormat: "d/m/Y H:i",
                    wrap: true,
                    allowInput: true
                })
            });
        });

        // date picker for add meeting 
        ['datepicker_meeting_add', 'datepicker2_meeting_add'].forEach(el => {
                $(`#${el}`).flatpickr({
                    enableTime: true,
                    dateFormat: "d/m/Y H:i",
                    wrap: true,
                    allowInput: true
                })
            });

        // date picker for add test 
        ['datepicker_test_add', 'datepicker2_test_add'].forEach(el => {
                $(`#${el}`).flatpickr({
                    enableTime: true,
                    dateFormat: "d/m/Y H:i",
                    wrap: true,
                    allowInput: true
                })
            });

        {% for meeting in meeting_list %}
        ['datepicker_meeting_edit{{ loop.index }}', 'datepicker2_meeting_edit{{ loop.index }}'].forEach(el => {
            $(`#${el}`).flatpickr({
                enableTime: true,
                dateFormat: "d/m/Y H:i",
                wrap: true,
                allowInput: true
            });
        });
        {% endfor %}

        {% for test in test_list %}
        ['datepicker_test_edit{{ loop.index }}', 'datepicker2_test_edit{{ loop.index }}'].forEach(el => {
            $(`#${el}`).flatpickr({
                enableTime: true,
                dateFormat: "d/m/Y H:i",
                wrap: true,
                allowInput: true
            });
        });
        {% endfor %}


        CKEDITOR.replace( 'desc_meeting', { customConfig : 'config_toolbar_mnc_cs.js' } );            
        CKEDITOR.replace( 'desc_test', { customConfig : 'config_toolbar_mnc_cs.js' } );            
            
 
    </script>

</body>
{% endautoescape %}

</html>